<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <title>Apple</title>
    <style>
        .box {
            /* width: 100px;
        height: 100px; */
            /* padding: 10px; */
            /* //background-color: red; */
            border: 1px solid #d6d6d6;
            padding: 30px 0px;
            border-radius: 4px;
        }

        .color {
            height: 50%;
        }

        .color img {
            height: 30%;
            width: 30%;
        }

        .price {}

        .totalprice {
            background-color: #FAFAFA;
            height: 20%;
            width: 100%;
        }

        .pad-top-1 {
            padding-top: 20px;
        }

        .pad-top-2 {
            padding-top: 100px;
        }

        .store,
        .wifi {
            height: 20%;
        }

        .mg-1 {
            margin: 20px 0;
        }
    </style>
</head>

<body>
    <div class="btn-gp">
        <div class="container">
            <div class="row text-center justify-content-center">
                <button class="btn btn-dark "> IPad </button>
                <button class="btn btn-dark"> IPhone</button>
            </div>
        </div>
    </div>
    <div class="product">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="picture pad-top-2">
                        <img id="picture" src="../assets/ipad-wifi-select-spacegray.png" alt="">
                    </div>


                </div>





                <div class="col-lg-6">
                    <div class="title">
                        <h2>購買 iPad</h2>
                        <p>購買 iPad 可享免額外付費運送服務。</p>
                    </div>
                    <div class="specpad-top-1">
                        <div class="colorbox pad-top-1">
                            <h5>外觀</h5>

                            <div class="row ipad-row" id="row">

                                <!-- <div class="col-lg-6">
                                        <div class="box text-center d-flex flex-column align-items-center" id="colorgrey">
                                            <div class="color" id="reddot"></div>
                                            <div class="text"></div>
                                        </div>
                                    </div>

                                        <div class="col-lg-6">
                                            <div class="box text-center d-flex flex-column align-items-center" id="colorgrey">
                                                <div class="color" id="reddot"></div>
                                                <div class="text"></div>
                                            </div>
                                        </div>
                                
                            
                                

                                <div class="col-lg-6">
                                    <div class="box text-center d-flex flex-column align-items-center" id="colorgrey">
                                        <div class="color" id="reddot"></div>
                                        <div class="text"></div>
                                    </div>
                                </div><div class="col-lg-6">
                                    <div class="box text-center d-flex flex-column align-items-center" id="colorgrey">
                                        <div class="color" id="reddot"></div>
                                        <div class="text"></div>
                                    </div>
                                </div> -->
                                <!-- <div class="col-lg-6">
                                    <div class="box text-center d-flex flex-column align-items-center" id="colorsilver">
                                        <div class="color"><img
                                                src=""
                                                alt=""></div>
                                        <div class="text"></div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="box text-center d-flex flex-column align-items-center" id="colorgold">
                                        <div class="color"><img
                                                src=""
                                                alt=""></div>
                                        <div class="text"></div>
                                    </div>
                                </div> -->

                            </div>

                        </div>
                        <div class="store pad-top-1">
                            <h5>儲存裝置</h5>
                            <div class="row" id="rowStorage">

                                <!-- <div class="col-lg-6">
                                    <div class="box text-center d-flex flex-column align-items-center" id="minstore">
                                        <div class="text"></div>
                                        <div class="price"></div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="box text-center d-flex flex-column align-items-center" id="maxstore">
                                        <div class="text"></div>
                                        <div class="price"></div>
                                    </div>
                                </div> -->

                            </div>


                        </div>
                        <div class="wifi pad-top-1">
                            <h5>WI-FI加行動網路</h5>
                            <div class="row" id="rowwifi">

                                <!-- <div class="col-lg-6">
                                    <div class="box text-center d-flex flex-column align-items-center" id="wifi">
   
                                        <div class="text">WI-FI</div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="box text-center d-flex flex-column align-items-center" id="wifiplus">

                                        <div class="text">WI-FI + 行動網路</div>

                                    </div>
                                </div> -->

                            </div>

                        </div>

                    </div>
                    <div class="totalprice text-center mg-1">
                   
                    </div>

                </div>




            </div>




        </div>




    </div>

    <script>
        var Product = {
            Ipad: {

                ProductDetails: [{
                        Name: "IPad"
                    },

                ],

                HtmlData: {
                    ColorDot: [{
                            tagName: "太空灰",
                            img: "../assets/finish-spacegray.png",
                            idName: "spacegray"
                        },
                        {
                            tagName: "銀色",
                            img: "../assets/finish-silver.png",
                            idName: "silver"
                        },
                        {
                            tagName: "金色",
                            img: "../assets/finish-gold.png",
                            idName: "gold"
                        },
                    ],
                    HasWifi: [{
                            wifiType: "Wi-Fi",
                            wifiplus: false,
                            priceCount: 0
                        },
                        {
                            wifiType: "Wi-Fi + 行動網路",
                            wifiplus: true,
                            priceCount: 4500
                        }
                    ]
                },
                //把 wifityye搬下 然後把storage+internet合起來
                Spec: {
                    Storage: [{
                            size: "32GB",
                            price: 10900
                        },
                        {
                            size: "128GB",
                            price: 13900
                        }
                    ],
                    Internet: [{
                            wifiplus: false,
                            priceCount: 0,
                            wifiType: "Wi-Fi"
                        },
                        {
                            wifiplus: true,
                            priceCount: 4500,
                            wifiType: "Wi-Fi + 行動網路"
                        }

                    ]


                },
                OutWard: [{
                        color: "spacegray",
                        picture: "../assets/ipad-wifi-select-spacegray.png",
                        wifiplusPictire: "../assets/ipad-cell-select-spacegray.png"
                    },
                    {
                        color: "gold",
                        picture: "../assets/ipad-wifi-select-gold.png",
                        wifiplusPictire: "../assets/ipad-cell-select-gold.png"
                    },
                    {
                        color: "silver",
                        picture: "../assets/ipad-wifi-select-silver.png",
                        wifiplusPictire: "../assets/ipad-cell-select-silver.png"
                    }

                ],

            },

            Iphone: {

                ProductDetails: [{
                        Name: "IPhone11"
                    },

                ],
                //{ProductName:"Ipad"},
                HtmlData: [{
                        tagName: "白色",
                        img: "url()"
                    },
                    {
                        tagName: "黑色",
                        img: "url()"
                    },
                    {
                        tagName: "綠色",
                        img: "url()"
                    },
                    {
                        tagName: "黃色",
                        img: "url()"
                    },
                    {
                        tagName: "紫色",
                        img: "url()"
                    },
                    {
                        tagName: "紅色",
                        img: "url()"
                    },

                ],

                Spec: {
                    Storage: [{
                            size: "64GB",
                            price: 24900
                        },
                        {
                            size: "128GB",
                            price: 26900
                        },
                        {
                            size: "256GB",
                            price: 30400
                        }
                    ],



                },
                OutWard: [{
                        color: "white",
                        picture: "url"
                    },
                    {
                        color: "dark",
                        picture: "url"
                    },
                    {
                        color: "green",
                        picture: "url"
                    },
                    {
                        color: "yellow",
                        picture: "url"
                    },
                    {
                        color: "purple",
                        picture: "url"
                    },
                    {
                        color: "red",
                        picture: "url"
                    }

                ],

            }



        }


        //et colorDot =  document.querySelector("#reddot");

        //let img = document.createElement("img");
        //colorDot.appendChild(img);
        let currentPrice = Product.Ipad.Spec.Storage[0].price;
        const hasWifiPriceCount = 4500;

        const row = document.querySelector('#row');
        const rowStorage = document.querySelector('#rowStorage');

        const rowWifi = document.querySelector('#rowwifi');
        const wifitext = document.querySelectorAll('.wifitext');
        console.log(row);
        console.log(wifitext);
        ///生成HTML/// 
        Product.Ipad.HtmlData.ColorDot.forEach(element => {
            row.insertAdjacentHTML("beforeend",
                `<div class= "col-lg-6"><div class="box text-center d-flex flex-column align-items-center color-select" name="${element.idName}"> <div class="color"><img src="${element.img}"></div> <div class="text">${element.tagName}</div></div></div>`
                )
        });

        Product.Ipad.Spec.Storage.forEach(element => {
            rowStorage.insertAdjacentHTML("beforeend",
                `<div class="col-lg-6"><div class="box text-center d-flex flex-column align-items-center storage-select" name="${element.price}" ><div class="text">${element.size}</div><div class="price">NT$${element.price}起</div></div></div>`
                )

        });

        Product.Ipad.HtmlData.HasWifi.forEach(element => {
            rowWifi.insertAdjacentHTML("beforeend",
                `<div class="col-lg-6">
                    <div class="box text-center d-flex flex-column align-items-center wifi-select" name="${element.wifiplus}"> 
                        <div class="text wifitext">${element.wifiType}</div>
                        <div class="wifiprice" name="${currentPrice + hasWifiPriceCount}">NT$${currentPrice + hasWifiPriceCount}起</div>
                    </div> 
                </div>`
                )

        });

      //  const StorageandInternet = Product.Ipad.Spec.Storage.concat(Product.Ipad.Spec.Internet)



      ///選取容量之價錢變化///
        document.querySelectorAll('.storage-select').forEach((item)=>{
            item.addEventListener('click',(event) =>{
               // const storage = event.currentTarget.querySelector('.price').innerText;
                const storage = event.currentTarget.getAttribute('name');
               currentPrice =  parseInt(storage);
               const changePrice = document.querySelectorAll('.wifiprice');
            //    for(let item of changePrice ){
            //       item.innerHTML=`NT${currentPrice + hasWifiPriceCount}起`;
            //    }

               changePrice[0].innerHTML = `NT$${currentPrice}起`;
               changePrice[1].innerHTML = `NT$${currentPrice+hasWifiPriceCount}起`;
               price.innerText = `NT$${currentPrice}起`;
                
            })



        }) 



        ///圖片顏色選取互動///
        let picture = document.querySelector('#picture');
        document.querySelectorAll('.color-select').forEach((item) => {
            item.addEventListener('click', (event) => {
                const obj = event.currentTarget;
                //const color = obj.attributes.name.value
                const color2 = obj.getAttribute('name');

                picture.setAttribute('src', `../assets/ipad-wifi-select-${color2}.png`)

                console.log("ahah")
            })
        });

        //圖片wifi選取互動//
        document.querySelectorAll('.wifi-select').forEach((item) => {
            item.addEventListener('click', (event) => {
                const wifiColor = event.currentTarget.getAttribute('name');
                const color = picture.getAttribute('src');

                const colorSplit = color.split('-');
                if (wifiColor == "true") {
                    picture.setAttribute('src', `../assets/ipad-cell-select-${colorSplit[3]}`);
                } else {}

                const changewifiPrice =  event.currentTarget.querySelector('.wifi-select .wifiprice').innerText;

                currentPrice = parseInt(changewifiPrice.split('$')[1].split('起')[0]);

                console.log(currentPrice);
                price.innerText = `NT$${currentPrice}起`;

            })


        })


        //算錢
        let price = document.querySelector(".totalprice");
        price.innerText = `NT${currentPrice}起`;
    </script>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous">
    </script>
</body>

</html>